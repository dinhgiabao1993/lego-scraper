(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{59:function(t,e,r){"use strict";r.r(e);var a=r(10),n=r.n(a),o=r(2);function c(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function l(t,e,r,a,n,o,c){try{var s=t[o](c),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(a,n)}var u={data:function(){return{loading:!1,total:0,filter:{page:1,marketplace:null},products:[],marketplaces:[{value:null,text:"Marketplace"},{value:"US",text:"US"},{value:"UK",text:"UK"}],source:null}},mounted:function(){this.getProducts()},methods:{getProducts:function(){var t,e=this;return(t=n.a.mark((function t(){var r,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.source&&e.source.cancel("Request canceled"),e.source=axios.CancelToken.source(),t.prev=2,e.loading=!0,t.next=6,axios.get("/products",{params:e.filter,cancelToken:e.source.token});case 6:r=t.sent,Object(o.get)(r,"data.success")&&(e.loading=!1,e.products.splice(0),(a=e.products).push.apply(a,c(Object(o.get)(r,"data.data.data",[]))),e.filter.page=Object(o.get)(r,"data.data.current_page",1),e.total=Object(o.get)(r,"data.data.total",0)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),axios.isCancel(t.t0)||(e.loading=!1);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})),function(){var e=this,r=arguments;return new Promise((function(a,n){var o=t.apply(e,r);function c(t){l(o,a,n,c,s,"next",t)}function s(t){l(o,a,n,c,s,"throw",t)}c(void 0)}))})()},get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(o.get)(t,e)}}},i=r(8),p=Object(i.a)(u,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-fluid"},[r("h3",[t._v("Lego Retiring Soon Products")]),t._v(" "),r("b-form",{staticClass:"row"},[r("b-form-group",{staticClass:"col-md-2",attrs:{label:"Item Number"}},[r("b-form-input",{attrs:{type:"number",min:"0",step:"1",placeholder:"Item Number"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getProducts(e)}},model:{value:t.filter.external_id,callback:function(e){t.$set(t.filter,"external_id",e)},expression:"filter.external_id"}})],1),t._v(" "),r("b-form-group",{staticClass:"col-md-2",attrs:{label:"Marketplace"}},[r("b-form-select",{attrs:{options:t.marketplaces},on:{change:t.getProducts},model:{value:t.filter.marketplace,callback:function(e){t.$set(t.filter,"marketplace",e)},expression:"filter.marketplace"}})],1),t._v(" "),r("b-form-group",{staticClass:"col-md-2",attrs:{label:"Product Name"}},[r("b-form-input",{attrs:{type:"text",min:"0",step:"1",placeholder:"Product Name"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getProducts(e)}},model:{value:t.filter.name,callback:function(e){t.$set(t.filter,"name",e)},expression:"filter.name"}})],1)],1),t._v(" "),r("b-overlay",{attrs:{show:t.loading,rounded:"sm"}},[r("table",{staticClass:"table table-striped"},[r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Marketplace")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Item Number")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Product Name")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Listing URL")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Price")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Sale Price")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Discount Amount")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Discount Percentage")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Spotted At")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Stock Status")])])]),t._v(" "),r("tbody",[t._l(t.products,(function(e,a){return r("tr",{key:e.id},[r("th",{attrs:{scope:"row"}},[t._v(t._s(a+1))]),t._v(" "),r("td",[t._v(t._s(t.get(e,"marketplace")))]),t._v(" "),r("td",[t._v(t._s(t.get(e,"external_id")))]),t._v(" "),r("td",[t._v(t._s(t.get(e,"name")))]),t._v(" "),r("td",[t.get(e,"url")?r("a",{attrs:{href:t.get(e,"url")}},[t._v(t._s(t.get(e,"url")))]):t._e()]),t._v(" "),r("td",[t._v(t._s(t.get(e,"price"))+" "+t._s(t.get(e,"currency")))]),t._v(" "),r("td",[t.get(e,"sale_price")?[t._v(t._s(t.get(e,"sale_price"))+" "+t._s(t.get(e,"currency")))]:t._e()],2),t._v(" "),r("td",[t.get(e,"discount_amount")?[t._v(t._s(t.get(e,"discount_amount"))+" "+t._s(t.get(e,"currency")))]:t._e()],2),t._v(" "),r("td",[t.get(e,"discount_percentage")?[t._v(t._s(t.get(e,"discount_percentage"))+"%")]:t._e()],2),t._v(" "),r("td",[t._v(t._s(t.get(e,"spotted_at")))]),t._v(" "),r("td",[t._v(t._s(t.get(e,"stock_status","").toUpperCase()))])])})),t._v(" "),t.products.length?t._e():r("tr",[r("td",{staticClass:"text-center",attrs:{colspan:"11"}},[t._v("No Products Found")])])],2)])]),t._v(" "),r("b-pagination",{attrs:{align:"center","total-rows":t.total,"per-page":"15"},on:{input:t.getProducts},model:{value:t.filter.page,callback:function(e){t.$set(t.filter,"page",e)},expression:"filter.page"}})],1)}),[],!1,null,null,null);e.default=p.exports}}]);